import{d as a}from"./vendor-lezer-BVuE63-5.js";import{L as s,G as o,I as i,J as c,K as r,M as d}from"./vendor-codemirror-CjDT2NJG.js";const f=()=>n=>{try{JSON.parse(n.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const t=g(e,n.state.doc);return[{from:t,message:e.message,severity:"error",to:t}]}return[]};function g(n,e){let t;return(t=n.message.match(/at position (\d+)/))?Math.min(+t[1],e.length):(t=n.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+t[1]).from+ +t[2]-1,e.length):0}const m=s.define({name:"json",parser:a.configure({props:[i.add({Object:r({except:/^\s*\}/}),Array:r({except:/^\s*\]/})}),c.add({"Object Array":d})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function l(){return new o(m)}export{l as json,m as jsonLanguage,f as jsonParseLinter};
//# sourceMappingURL=lang-json-fbmx4k6C.js.map
