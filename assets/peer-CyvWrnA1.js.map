{"version":3,"file":"peer-CyvWrnA1.js","sources":["../../../../../packages/playground/website/demos/peer.ts"],"sourcesContent":["import { startPlaygroundWeb } from '@wp-playground/client';\nimport { login } from '@wp-playground/blueprints';\nimport {\n\tsetupPlaygroundSync,\n\tParentWindowTransport,\n\tloggerMiddleware,\n} from '@wp-playground/sync';\nimport { getRemoteUrl } from '../src/lib/config';\n\nexport async function runDemo(\n\tiframe: HTMLIFrameElement,\n\tclientId: string,\n\tautoincrementOffset: number\n) {\n\tconst playground = await startPlaygroundWeb({\n\t\tiframe,\n\t\tremoteUrl: getRemoteUrl().toString(),\n\t\t// The new AST-based SQLite driver doesn't expose query information\n\t\t// via the \"sqlite_last_insert_id\", \"sqlite_translated_query_executed\",\n\t\t// and \"sqlite_transaction_query_executed\" hooks.\n\t\t// We need to use the old driver here.\n\t\tsqliteDriverVersion: 'v2.1.16',\n\t});\n\tconst siteURL = await playground.absoluteUrl;\n\tconsole.log({ clientId, siteURL });\n\tawait setupPlaygroundSync(playground, {\n\t\tautoincrementOffset,\n\t\ttransport: new ParentWindowTransport(),\n\t\tmiddlewares: [loggerMiddleware(clientId)],\n\t});\n\n\tawait login(playground, { username: 'admin', password: 'password' });\n\tawait playground.goTo('/');\n}\n"],"names":["runDemo","iframe","clientId","autoincrementOffset","playground","startPlaygroundWeb","getRemoteUrl","siteURL","setupPlaygroundSync","ParentWindowTransport","loggerMiddleware","login"],"mappings":"+aASA,eAAsBA,EACrBC,EACAC,EACAC,EACC,CACD,MAAMC,EAAa,MAAMC,EAAmB,CAC3C,OAAAJ,EACA,UAAWK,EAAA,EAAe,SAAA,EAK1B,oBAAqB,SAAA,CACrB,EACKC,EAAU,MAAMH,EAAW,YACjC,QAAQ,IAAI,CAAE,SAAAF,EAAU,QAAAK,CAAA,CAAS,EACjC,MAAMC,EAAoBJ,EAAY,CACrC,oBAAAD,EACA,UAAW,IAAIM,EACf,YAAa,CAACC,EAAiBR,CAAQ,CAAC,CAAA,CACxC,EAED,MAAMS,EAAMP,EAAY,CAAE,SAAU,OAA8B,CAAC,EACnE,MAAMA,EAAW,KAAK,GAAG,CAC1B"}