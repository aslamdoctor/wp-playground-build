{"version":3,"file":"adminer-mysql-on-sqlite-driver-Cr0dZFbD.js","sources":["../../../../../packages/playground/website/src/components/site-manager/site-database-panel/adminer-extensions/adminer-mysql-on-sqlite-driver.php?raw"],"sourcesContent":["export default \"<?php\\n\\n/**\\n * An Adminer driver for MySQL-on-SQLite.\\n *\\n * This implementation is based on Adminer\\\\SqlDb and Adminer\\\\Db classes.\\n * It is modified to use the MySQL-on-SQLite driver instead of MySQLi.\\n *\\n * @see https://github.com/vrana/adminer/blob/eaad45a781a3e0d9fa04e3431c1826e81c061699/adminer/include/db.inc.php\\n * @see https://github.com/vrana/adminer/blob/eaad45a781a3e0d9fa04e3431c1826e81c061699/adminer/drivers/mysql.inc.php\\n */\\n\\nnamespace Adminer;\\n\\n// Load the SQLite driver.\\nrequire_once '/internal/shared/sqlite-database-integration/version.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/parser/class-wp-parser-grammar.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/parser/class-wp-parser.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/parser/class-wp-parser-node.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/parser/class-wp-parser-token.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/mysql/class-wp-mysql-token.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/mysql/class-wp-mysql-lexer.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/mysql/class-wp-mysql-parser.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-query-rewriter.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-lexer.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-token.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-pdo-user-defined-functions.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-translator.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-connection.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-configurator.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver-exception.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-information-schema-builder.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-information-schema-exception.php';\\nrequire_once '/internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-information-schema-reconstructor.php';\\n\\nuse Throwable;\\nuse WP_SQLite_Driver;\\nuse WP_SQLite_Connection;\\nuse PDO;\\n\\nSqlDriver::$drivers = array(\\\"server\\\" => \\\"MySQL / MariaDB\\\") + SqlDriver::$drivers;\\n\\nif (!defined('Adminer\\\\DRIVER')) {\\n\\tdefine('Adminer\\\\DRIVER', \\\"server\\\"); // server - backwards compatibility\\n\\n\\t/**\\n\\t * WP_SQLite_Driver integration for Adminer.\\n\\t *\\n\\t * @see https://github.com/vrana/adminer/blob/eaad45a781a3e0d9fa04e3431c1826e81c061699/adminer/include/db.inc.php\\n\\t * @see https://github.com/vrana/adminer/blob/eaad45a781a3e0d9fa04e3431c1826e81c061699/adminer/drivers/mysql.inc.php\\n\\t */\\n\\tclass Db extends SqlDb {\\n\\t\\t/**\\n\\t\\t * Database extension name.\\n\\t\\t *\\n\\t\\t * @var string\\n\\t\\t */\\n\\t\\tpublic $extension = 'MySQL on SQLite';\\n\\n\\t\\t/**\\n\\t\\t * Flavor of the database.\\n\\t\\t *\\n\\t\\t * @var string\\n\\t\\t */\\n\\t\\tpublic $flavor = 'SQLite';\\n\\n\\t\\t/**\\n\\t\\t * Server version information.\\n\\t\\t *\\n\\t\\t * @var string\\n\\t\\t */\\n\\t\\tpublic $server_info = '8.0.38';\\n\\n\\t\\t/**\\n\\t\\t * Number of affected rows by the last query.\\n\\t\\t *\\n\\t\\t * @var int\\n\\t\\t */\\n\\t\\tpublic $affected_rows = 0;\\n\\n\\t\\t/**\\n\\t\\t * Information about the last query.\\n\\t\\t *\\n\\t\\t * @see https://php.net/mysql_info\\n\\t\\t */\\n\\t\\tpublic $info = '';\\n\\n\\t\\t/**\\n\\t\\t * Error number of the last query.\\n\\t\\t *\\n\\t\\t * @var int\\n\\t\\t */\\n\\t\\tpublic $errno = 0;\\n\\n\\t\\t/**\\n\\t\\t * Error message of the last query.\\n\\t\\t *\\n\\t\\t * @var string\\n\\t\\t */\\n\\t\\tpublic $error = '';\\n\\n\\t\\t/**\\n\\t\\t * Used for multi-query support.\\n\\t\\t *\\n\\t\\t * @var Result|bool\\n\\t\\t */\\n\\t\\tprotected $multi;\\n\\n\\t\\t/**\\n\\t\\t * WP_SQLite_Driver instance.\\n\\t\\t *\\n\\t\\t * @var WP_SQLite_Driver\\n\\t\\t */\\n\\t\\tpublic $driver;\\n\\n\\t\\tfunction attach($server, $username, $password) {\\n\\t\\t\\t$pdo = new PDO('sqlite:/wordpress/wp-content/database/.ht.sqlite');\\n\\t\\t\\t$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\\n\\t\\t\\t$this->driver = new WP_SQLite_Driver(\\n\\t\\t\\t\\tnew WP_SQLite_Connection(array('pdo' => $pdo)),\\n\\t\\t\\t\\t'wordpress'\\n\\t\\t\\t);\\n\\t\\t\\treturn $this;\\n\\t\\t}\\n\\n\\t\\tfunction set_charset($charset) {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\tfunction next_result() {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\n\\t\\tfunction quote($string) {\\n\\t\\t\\treturn $this->driver->get_connection()->quote($string);\\n\\t\\t}\\n\\n\\t\\tfunction select_db($database) {\\n\\t\\t\\t$this->driver->query(sprintf('USE %s', $this->driver->get_connection()->quote_identifier($database)));\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\n\\t\\tfunction query($query, $unbuffered = false) {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\t$this->affected_rows = 0;\\n\\t\\t\\t\\t$results = $this->driver->query($query);\\n\\t\\t\\t\\tif (is_int($results)) {\\n\\t\\t\\t\\t\\t$this->affected_rows = $results;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t$columns = $this->driver->get_last_column_meta();\\n\\t\\t\\t\\treturn new Result(is_array($results) ? $results : array(), $columns);\\n\\t\\t\\t} catch (Throwable $e) {\\n\\t\\t\\t\\treturn new Result(array(), array());\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * Result representation in Adminer-compatible format.\\n\\t *\\n\\t * @see https://github.com/vrana/adminer/blob/eaad45a781a3e0d9fa04e3431c1826e81c061699/adminer/include/pdo.inc.php\\n\\t * @see https://github.com/vrana/adminer/blob/eaad45a781a3e0d9fa04e3431c1826e81c061699/adminer/drivers/mysql.inc.php\\n\\t */\\n\\tclass Result {\\n\\t\\t/** @var */\\n\\t\\tpublic $num_rows;\\n\\n\\t\\t/** @var array */\\n\\t\\tprivate $rows;\\n\\n\\t\\t/** @var array */\\n\\t\\tprivate $columns;\\n\\n\\t\\t/** @var int */\\n\\t\\tprivate $row_offset = 0;\\n\\n\\t\\t/** @var int */\\n\\t\\tprivate $col_offset = 0;\\n\\n\\t\\tfunction __construct($rows, $columns) {\\n\\t\\t\\t$this->num_rows = count($rows);\\n\\t\\t\\t$this->rows = $rows;\\n\\t\\t\\t$this->columns = $columns;\\n\\t\\t}\\n\\n\\t\\tfunction fetch_assoc() {\\n\\t\\t\\treturn (array) $this->rows[$this->row_offset++];\\n\\t\\t}\\n\\n\\t\\tfunction fetch_row() {\\n\\t\\t\\treturn array_values((array) $this->rows[$this->row_offset++]);\\n\\t\\t}\\n\\n\\t\\tfunction fetch_field(): \\\\stdClass {\\n\\t\\t\\t$column = $this->columns[$this->col_offset++];\\n\\n\\t\\t\\t// Adminer expects MySQLi-like column metadata rather than PDO syntax.\\n\\t\\t\\t// The SQLite driver provides it in \\\"mysqli:\\\" prefixed metadata keys.\\n\\t\\t\\tforeach ($column as $key => $value) {\\n\\t\\t\\t\\tif (strpos($key, 'mysqli:') === 0) {\\n\\t\\t\\t\\t\\t$column[substr($key, 7)] = $value;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn (object) $column;\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * The rest of the code in this file is from the original Adminer code.\\n\\t *\\n\\t * @see https://github.com/vrana/adminer/blob/eaad45a781a3e0d9fa04e3431c1826e81c061699/adminer/drivers/mysql.inc.php\\n\\t */\\n\\n\\tclass Driver extends SqlDriver {\\n\\t\\tstatic $extensions = array(\\\"MySQLi\\\", \\\"MySQL\\\", \\\"PDO_MySQL\\\");\\n\\t\\tstatic $jush = \\\"sql\\\"; // JUSH identifier\\n\\n\\t\\tpublic $unsigned = array(\\\"unsigned\\\", \\\"zerofill\\\", \\\"unsigned zerofill\\\");\\n\\t\\tpublic $operators = array(\\\"=\\\", \\\"<\\\", \\\">\\\", \\\"<=\\\", \\\">=\\\", \\\"!=\\\", \\\"LIKE\\\", \\\"LIKE %%\\\", \\\"REGEXP\\\", \\\"IN\\\", \\\"FIND_IN_SET\\\", \\\"IS NULL\\\", \\\"NOT LIKE\\\", \\\"NOT REGEXP\\\", \\\"NOT IN\\\", \\\"IS NOT NULL\\\", \\\"SQL\\\");\\n\\t\\tpublic $functions = array(\\\"char_length\\\", \\\"date\\\", \\\"from_unixtime\\\", \\\"lower\\\", \\\"round\\\", \\\"floor\\\", \\\"ceil\\\", \\\"sec_to_time\\\", \\\"time_to_sec\\\", \\\"upper\\\");\\n\\t\\tpublic $grouping = array(\\\"avg\\\", \\\"count\\\", \\\"count distinct\\\", \\\"group_concat\\\", \\\"max\\\", \\\"min\\\", \\\"sum\\\");\\n\\n\\t\\tstatic function connect($server,$username,$password) {\\n\\t\\t\\t$connection = parent::connect($server, $username, $password);\\n\\t\\t\\tif (is_string($connection)) {\\n\\t\\t\\t\\tif (function_exists('iconv') && !is_utf8($connection) && strlen($s = iconv(\\\"windows-1250\\\", \\\"utf-8\\\", $connection)) > strlen($connection)) { // windows-1250 - most common Windows encoding\\n\\t\\t\\t\\t\\t$connection = $s;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn $connection;\\n\\t\\t\\t}\\n\\t\\t\\t$connection->set_charset(charset($connection));\\n\\t\\t\\t$connection->query(\\\"SET sql_quote_show_create = 1, autocommit = 1\\\");\\n\\t\\t\\t$connection->flavor = (preg_match('~MariaDB~', $connection->server_info) ? 'maria' : 'mysql');\\n\\t\\t\\tadd_driver(DRIVER, ($connection->flavor == 'maria' ? \\\"MariaDB\\\" : \\\"MySQL\\\"));\\n\\t\\t\\treturn $connection;\\n\\t\\t}\\n\\n\\t\\tfunction __construct($connection) {\\n\\t\\t\\tparent::__construct($connection);\\n\\t\\t\\t$this->types = array(\\n\\t\\t\\t\\tlang('Numbers') => array(\\\"tinyint\\\" => 3, \\\"smallint\\\" => 5, \\\"mediumint\\\" => 8, \\\"int\\\" => 10, \\\"bigint\\\" => 20, \\\"decimal\\\" => 66, \\\"float\\\" => 12, \\\"double\\\" => 21),\\n\\t\\t\\t\\tlang('Date and time') => array(\\\"date\\\" => 10, \\\"datetime\\\" => 19, \\\"timestamp\\\" => 19, \\\"time\\\" => 10, \\\"year\\\" => 4),\\n\\t\\t\\t\\tlang('Strings') => array(\\\"char\\\" => 255, \\\"varchar\\\" => 65535, \\\"tinytext\\\" => 255, \\\"text\\\" => 65535, \\\"mediumtext\\\" => 16777215, \\\"longtext\\\" => 4294967295),\\n\\t\\t\\t\\tlang('Lists') => array(\\\"enum\\\" => 65535, \\\"set\\\" => 64),\\n\\t\\t\\t\\tlang('Binary') => array(\\\"bit\\\" => 20, \\\"binary\\\" => 255, \\\"varbinary\\\" => 65535, \\\"tinyblob\\\" => 255, \\\"blob\\\" => 65535, \\\"mediumblob\\\" => 16777215, \\\"longblob\\\" => 4294967295),\\n\\t\\t\\t\\tlang('Geometry') => array(\\\"geometry\\\" => 0, \\\"point\\\" => 0, \\\"linestring\\\" => 0, \\\"polygon\\\" => 0, \\\"multipoint\\\" => 0, \\\"multilinestring\\\" => 0, \\\"multipolygon\\\" => 0, \\\"geometrycollection\\\" => 0),\\n\\t\\t\\t);\\n\\t\\t\\t$this->insertFunctions = array(\\n\\t\\t\\t\\t\\\"char\\\" => \\\"md5/sha1/password/encrypt/uuid\\\",\\n\\t\\t\\t\\t\\\"binary\\\" => \\\"md5/sha1\\\",\\n\\t\\t\\t\\t\\\"date|time\\\" => \\\"now\\\",\\n\\t\\t\\t);\\n\\t\\t\\t$this->editFunctions = array(\\n\\t\\t\\t\\tnumber_type() => \\\"+/-\\\",\\n\\t\\t\\t\\t\\\"date\\\" => \\\"+ interval/- interval\\\",\\n\\t\\t\\t\\t\\\"time\\\" => \\\"addtime/subtime\\\",\\n\\t\\t\\t\\t\\\"char|text\\\" => \\\"concat\\\",\\n\\t\\t\\t);\\n\\t\\t\\tif (min_version('5.7.8', 10.2, $connection)) {\\n\\t\\t\\t\\t$this->types[lang('Strings')][\\\"json\\\"] = 4294967295;\\n\\t\\t\\t}\\n\\t\\t\\tif (min_version('', 10.7, $connection)) {\\n\\t\\t\\t\\t$this->types[lang('Strings')][\\\"uuid\\\"] = 128;\\n\\t\\t\\t\\t$this->insertFunctions['uuid'] = 'uuid';\\n\\t\\t\\t}\\n\\t\\t\\tif (min_version(9, '', $connection)) {\\n\\t\\t\\t\\t$this->types[lang('Numbers')][\\\"vector\\\"] = 16383;\\n\\t\\t\\t\\t$this->insertFunctions['vector'] = 'string_to_vector';\\n\\t\\t\\t}\\n\\t\\t\\tif (min_version(5.1, '', $connection)) {\\n\\t\\t\\t\\t$this->partitionBy = array(\\\"HASH\\\", \\\"LINEAR HASH\\\", \\\"KEY\\\", \\\"LINEAR KEY\\\", \\\"RANGE\\\", \\\"LIST\\\");\\n\\t\\t\\t}\\n\\t\\t\\tif (min_version(5.7, 10.2, $connection)) {\\n\\t\\t\\t\\t$this->generated = array(\\\"STORED\\\", \\\"VIRTUAL\\\");\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction unconvertFunction($field) {\\n\\t\\t\\treturn (preg_match(\\\"~binary~\\\", $field[\\\"type\\\"]) ? \\\"<code class='jush-sql'>UNHEX</code>\\\"\\n\\t\\t\\t\\t: ($field[\\\"type\\\"] == \\\"bit\\\" ? doc_link(array('sql' => 'bit-value-literals.html'), \\\"<code>b''</code>\\\")\\n\\t\\t\\t\\t: (preg_match(\\\"~geometry|point|linestring|polygon~\\\", $field[\\\"type\\\"]) ? \\\"<code class='jush-sql'>GeomFromText</code>\\\"\\n\\t\\t\\t\\t: \\\"\\\")));\\n\\t\\t}\\n\\n\\t\\tfunction insert($table, $set) {\\n\\t\\t\\treturn ($set ? parent::insert($table, $set) : queries(\\\"INSERT INTO \\\" . table($table) . \\\" ()\\\\nVALUES ()\\\"));\\n\\t\\t}\\n\\n\\t\\tfunction insertUpdate($table, $rows, $primary) {\\n\\t\\t\\t$columns = array_keys(reset($rows));\\n\\t\\t\\t$prefix = \\\"INSERT INTO \\\" . table($table) . \\\" (\\\" . implode(\\\", \\\", $columns) . \\\") VALUES\\\\n\\\";\\n\\t\\t\\t$values = array();\\n\\t\\t\\tforeach ($columns as $key) {\\n\\t\\t\\t\\t$values[$key] = \\\"$key = VALUES($key)\\\";\\n\\t\\t\\t}\\n\\t\\t\\t$suffix = \\\"\\\\nON DUPLICATE KEY UPDATE \\\" . implode(\\\", \\\", $values);\\n\\t\\t\\t$values = array();\\n\\t\\t\\t$length = 0;\\n\\t\\t\\tforeach ($rows as $set) {\\n\\t\\t\\t\\t$value = \\\"(\\\" . implode(\\\", \\\", $set) . \\\")\\\";\\n\\t\\t\\t\\tif ($values && (strlen($prefix) + $length + strlen($value) + strlen($suffix) > 1e6)) { // 1e6 - default max_allowed_packet\\n\\t\\t\\t\\t\\tif (!queries($prefix . implode(\\\",\\\\n\\\", $values) . $suffix)) {\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t$values = array();\\n\\t\\t\\t\\t\\t$length = 0;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t$values[] = $value;\\n\\t\\t\\t\\t$length += strlen($value) + 2; // 2 - strlen(\\\",\\\\n\\\")\\n\\t\\t\\t}\\n\\t\\t\\treturn queries($prefix . implode(\\\",\\\\n\\\", $values) . $suffix);\\n\\t\\t}\\n\\n\\t\\tfunction slowQuery($query, $timeout) {\\n\\t\\t\\tif (min_version('5.7.8', '10.1.2')) {\\n\\t\\t\\t\\tif ($this->conn->flavor == 'maria') {\\n\\t\\t\\t\\t\\treturn \\\"SET STATEMENT max_statement_time=$timeout FOR $query\\\";\\n\\t\\t\\t\\t} elseif (preg_match('~^(SELECT\\\\b)(.+)~is', $query, $match)) {\\n\\t\\t\\t\\t\\treturn \\\"$match[1] /*+ MAX_EXECUTION_TIME(\\\" . ($timeout * 1000) . \\\") */ $match[2]\\\";\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction convertSearch($idf, $val, $field) {\\n\\t\\t\\treturn (preg_match('~char|text|enum|set~', $field[\\\"type\\\"]) && !preg_match(\\\"~^utf8~\\\", $field[\\\"collation\\\"]) && preg_match('~[\\\\x80-\\\\xFF]~', $val['val'])\\n\\t\\t\\t\\t? \\\"CONVERT($idf USING \\\" . charset($this->conn) . \\\")\\\"\\n\\t\\t\\t\\t: $idf\\n\\t\\t\\t);\\n\\t\\t}\\n\\n\\t\\tfunction warnings() {\\n\\t\\t\\t$result = $this->conn->query(\\\"SHOW WARNINGS\\\");\\n\\t\\t\\tif ($result && $result->num_rows) {\\n\\t\\t\\t\\tob_start();\\n\\t\\t\\t\\tprint_select_result($result); // print_select_result() usually needs to print a big table progressively\\n\\t\\t\\t\\treturn ob_get_clean();\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction tableHelp($name, $is_view = false) {\\n\\t\\t\\t$maria = ($this->conn->flavor == 'maria');\\n\\t\\t\\tif (information_schema(DB)) {\\n\\t\\t\\t\\treturn strtolower(\\\"information-schema-\\\" . ($maria ? \\\"$name-table/\\\" : str_replace(\\\"_\\\", \\\"-\\\", $name) . \\\"-table.html\\\"));\\n\\t\\t\\t}\\n\\t\\t\\tif (DB == \\\"mysql\\\") {\\n\\t\\t\\t\\treturn ($maria ? \\\"mysql$name-table/\\\" : \\\"system-schema.html\\\"); //! more precise link\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tfunction partitionsInfo($table) {\\n\\t\\t\\t$from = \\\"FROM information_schema.PARTITIONS WHERE TABLE_SCHEMA = \\\" . q(DB) . \\\" AND TABLE_NAME = \\\" . q($table);\\n\\t\\t\\t$result = $this->conn->query(\\\"SELECT PARTITION_METHOD, PARTITION_EXPRESSION, PARTITION_ORDINAL_POSITION $from ORDER BY PARTITION_ORDINAL_POSITION DESC LIMIT 1\\\");\\n\\t\\t\\t$return = array();\\n\\t\\t\\tlist($return[\\\"partition_by\\\"], $return[\\\"partition\\\"], $return[\\\"partitions\\\"]) = $result->fetch_row();\\n\\t\\t\\t$partitions = get_key_vals(\\\"SELECT PARTITION_NAME, PARTITION_DESCRIPTION $from AND PARTITION_NAME != '' ORDER BY PARTITION_ORDINAL_POSITION\\\");\\n\\t\\t\\t$return[\\\"partition_names\\\"] = array_keys($partitions);\\n\\t\\t\\t$return[\\\"partition_values\\\"] = array_values($partitions);\\n\\t\\t\\treturn $return;\\n\\t\\t}\\n\\n\\t\\tfunction hasCStyleEscapes() {\\n\\t\\t\\tstatic $c_style;\\n\\t\\t\\tif ($c_style === null) {\\n\\t\\t\\t\\t$sql_mode = get_val(\\\"SHOW VARIABLES LIKE 'sql_mode'\\\", 1, $this->conn);\\n\\t\\t\\t\\t$c_style = (strpos($sql_mode, 'NO_BACKSLASH_ESCAPES') === false);\\n\\t\\t\\t}\\n\\t\\t\\treturn $c_style;\\n\\t\\t}\\n\\n\\t\\tfunction engines() {\\n\\t\\t\\t$return = array();\\n\\t\\t\\tforeach (get_rows(\\\"SHOW ENGINES\\\") as $row) {\\n\\t\\t\\t\\tif (preg_match(\\\"~YES|DEFAULT~\\\", $row[\\\"Support\\\"])) {\\n\\t\\t\\t\\t\\t$return[] = $row[\\\"Engine\\\"];\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn $return;\\n\\t\\t}\\n\\n\\t\\tfunction indexAlgorithms($tableStatus) {\\n\\t\\t\\treturn (preg_match('~^(MEMORY|NDB)$~', $tableStatus[\\\"Engine\\\"]) ? array(\\\"HASH\\\", \\\"BTREE\\\") : array());\\n\\t\\t}\\n\\t}\\n\\n\\n\\n\\t/** Escape database identifier */\\n\\tfunction idf_escape($idf) {\\n\\t\\treturn \\\"`\\\" . str_replace(\\\"`\\\", \\\"``\\\", $idf) . \\\"`\\\";\\n\\t}\\n\\n\\t/** Get escaped table name */\\n\\tfunction table($idf) {\\n\\t\\treturn idf_escape($idf);\\n\\t}\\n\\n\\t/** Get cached list of databases\\n\\t* @return list<string>\\n\\t*/\\n\\tfunction get_databases($flush) {\\n\\t\\t// SHOW DATABASES can take a very long time so it is cached\\n\\t\\t$return = get_session(\\\"dbs\\\");\\n\\t\\tif ($return === null) {\\n\\t\\t\\t$query = \\\"SELECT SCHEMA_NAME FROM information_schema.SCHEMATA ORDER BY SCHEMA_NAME\\\"; // SHOW DATABASES can be disabled by skip_show_database\\n\\t\\t\\t$return = ($flush ? slow_query($query) : get_vals($query));\\n\\t\\t\\trestart_session();\\n\\t\\t\\tset_session(\\\"dbs\\\", $return);\\n\\t\\t\\tstop_session();\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Formulate SQL query with limit\\n\\t* @param string $query everything after SELECT\\n\\t* @param string $where including WHERE\\n\\t*/\\n\\tfunction limit($query, $where, $limit, $offset = 0, $separator = \\\" \\\") {\\n\\t\\treturn \\\" $query$where\\\" . ($limit ? $separator . \\\"LIMIT $limit\\\" . ($offset ? \\\" OFFSET $offset\\\" : \\\"\\\") : \\\"\\\");\\n\\t}\\n\\n\\t/** Formulate SQL modification query with limit 1\\n\\t* @param string $query everything after UPDATE or DELETE\\n\\t*/\\n\\tfunction limit1($table, $query, $where, $separator = \\\"\\\\n\\\") {\\n\\t\\treturn limit($query, $where, 1, 0, $separator);\\n\\t}\\n\\n\\t/** Get database collation\\n\\t* @param string[][] $collations result of collations()\\n\\t*/\\n\\tfunction db_collation($db, $collations) {\\n\\t\\t$return = null;\\n\\t\\t$create = get_val(\\\"SHOW CREATE DATABASE \\\" . idf_escape($db), 1);\\n\\t\\tif (preg_match('~ COLLATE ([^ ]+)~', $create, $match)) {\\n\\t\\t\\t$return = $match[1];\\n\\t\\t} elseif (preg_match('~ CHARACTER SET ([^ ]+)~', $create, $match)) {\\n\\t\\t\\t// default collation\\n\\t\\t\\t$return = $collations[$match[1]][-1];\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Get logged user */\\n\\tfunction logged_user() {\\n\\t\\treturn get_val(\\\"SELECT USER()\\\");\\n\\t}\\n\\n\\t/** Get tables list\\n\\t* @return string[] [$name => $type]\\n\\t*/\\n\\tfunction tables_list() {\\n\\t\\treturn get_key_vals(\\\"SELECT TABLE_NAME, TABLE_TYPE FROM information_schema.TABLES WHERE TABLE_SCHEMA = DATABASE() ORDER BY TABLE_NAME\\\");\\n\\t}\\n\\n\\t/** Count tables in all databases\\n\\t* @param list<string> $databases\\n\\t* @return int[] [$db => $tables]\\n\\t*/\\n\\tfunction count_tables($databases) {\\n\\t\\t$return = array();\\n\\t\\tforeach ($databases as $db) {\\n\\t\\t\\t$return[$db] = count(get_vals(\\\"SHOW TABLES IN \\\" . idf_escape($db)));\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Get table status\\n\\t* @param bool $fast return only \\\"Name\\\", \\\"Engine\\\" and \\\"Comment\\\" fields\\n\\t* @return array<string, TableStatus>\\n\\t*/\\n\\tfunction table_status($name = \\\"\\\", $fast = false) {\\n\\t\\t$return = array();\\n\\t\\tforeach (\\n\\t\\t\\tget_rows(\\n\\t\\t\\t\\t$fast\\n\\t\\t\\t\\t? \\\"SELECT TABLE_NAME AS Name, ENGINE AS Engine, TABLE_COMMENT AS Comment FROM information_schema.TABLES WHERE TABLE_SCHEMA = DATABASE() \\\" . ($name != \\\"\\\" ? \\\"AND TABLE_NAME = \\\" . q($name) : \\\"ORDER BY Name\\\")\\n\\t\\t\\t\\t: \\\"SHOW TABLE STATUS\\\" . ($name != \\\"\\\" ? \\\" LIKE \\\" . q(addcslashes($name, \\\"%_\\\\\\\\\\\")) : \\\"\\\")\\n\\t\\t\\t) as $row\\n\\t\\t) {\\n\\t\\t\\tif ($row[\\\"Engine\\\"] == \\\"InnoDB\\\") {\\n\\t\\t\\t\\t// ignore internal comment, unnecessary since MySQL 5.1.21\\n\\t\\t\\t\\t$row[\\\"Comment\\\"] = preg_replace('~(?:(.+); )?InnoDB free: .*~', '\\\\1', $row[\\\"Comment\\\"]);\\n\\t\\t\\t}\\n\\t\\t\\tif (!isset($row[\\\"Engine\\\"])) {\\n\\t\\t\\t\\t$row[\\\"Comment\\\"] = \\\"\\\";\\n\\t\\t\\t}\\n\\t\\t\\tif ($name != \\\"\\\") {\\n\\t\\t\\t\\t// MariaDB: Table name is returned as lowercase on macOS, so we fix it here.\\n\\t\\t\\t\\t$row[\\\"Name\\\"] = $name;\\n\\t\\t\\t}\\n\\t\\t\\t$return[$row[\\\"Name\\\"]] = $row;\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Find out whether the identifier is view\\n\\t* @param TableStatus $table_status\\n\\t*/\\n\\tfunction is_view($table_status) {\\n\\t\\treturn $table_status[\\\"Engine\\\"] === null;\\n\\t}\\n\\n\\t/** Check if table supports foreign keys\\n\\t* @param TableStatus $table_status\\n\\t*/\\n\\tfunction fk_support($table_status) {\\n\\t\\treturn preg_match('~InnoDB|IBMDB2I' . (min_version(5.6) ? '|NDB' : '') . '~i', $table_status[\\\"Engine\\\"]);\\n\\t}\\n\\n\\t/** Get information about fields\\n\\t* @return Field[]\\n\\t*/\\n\\tfunction fields($table) {\\n\\t\\t$maria = (connection()->flavor == 'maria');\\n\\t\\t$return = array();\\n\\t\\tforeach (get_rows(\\\"SELECT * FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = \\\" . q($table) . \\\" ORDER BY ORDINAL_POSITION\\\") as $row) {\\n\\t\\t\\t$field = $row[\\\"COLUMN_NAME\\\"];\\n\\t\\t\\t$type = $row[\\\"COLUMN_TYPE\\\"];\\n\\t\\t\\t$generation = $row[\\\"GENERATION_EXPRESSION\\\"];\\n\\t\\t\\t$extra = $row[\\\"EXTRA\\\"];\\n\\t\\t\\t// https://mariadb.com/kb/en/library/show-columns/, https://github.com/vrana/adminer/pull/359#pullrequestreview-276677186\\n\\t\\t\\tpreg_match('~^(VIRTUAL|PERSISTENT|STORED)~', $extra, $generated);\\n\\t\\t\\tpreg_match('~^([^( ]+)(?:\\\\((.+)\\\\))?( unsigned)?( zerofill)?$~', $type, $match_type);\\n\\t\\t\\t$default = $row[\\\"COLUMN_DEFAULT\\\"];\\n\\t\\t\\tif ($default != \\\"\\\") {\\n\\t\\t\\t\\t$is_text = preg_match('~text|json~', $match_type[1]);\\n\\t\\t\\t\\tif (!$maria && $is_text) {\\n\\t\\t\\t\\t\\t// default value a'b of text column is stored as _utf8mb4\\\\'a\\\\\\\\\\\\'b\\\\' in MySQL\\n\\t\\t\\t\\t\\t$default = preg_replace(\\\"~^(_\\\\w+)?('.*')$~\\\", '\\\\2', stripslashes($default));\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif ($maria || $is_text) {\\n\\t\\t\\t\\t\\t$default = ($default == \\\"NULL\\\" ? null : preg_replace_callback(\\\"~^'(.*)'$~\\\", function ($match) {\\n\\t\\t\\t\\t\\t\\treturn stripslashes(str_replace(\\\"''\\\", \\\"'\\\", $match[1]));\\n\\t\\t\\t\\t\\t}, $default));\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (!$maria && preg_match('~binary~', $match_type[1]) && preg_match('~^0x(\\\\w*)$~', $default, $match)) {\\n\\t\\t\\t\\t\\t$default = pack(\\\"H*\\\", $match[1]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\t$return[$field] = array(\\n\\t\\t\\t\\t\\\"field\\\" => $field,\\n\\t\\t\\t\\t\\\"full_type\\\" => $type,\\n\\t\\t\\t\\t\\\"type\\\" => $match_type[1],\\n\\t\\t\\t\\t\\\"length\\\" => $match_type[2],\\n\\t\\t\\t\\t\\\"unsigned\\\" => ltrim($match_type[3] . $match_type[4]),\\n\\t\\t\\t\\t\\\"default\\\" => ($generated\\n\\t\\t\\t\\t\\t? ($maria ? $generation : stripslashes($generation))\\n\\t\\t\\t\\t\\t: $default\\n\\t\\t\\t\\t),\\n\\t\\t\\t\\t\\\"null\\\" => ($row[\\\"IS_NULLABLE\\\"] == \\\"YES\\\"),\\n\\t\\t\\t\\t\\\"auto_increment\\\" => ($extra == \\\"auto_increment\\\"),\\n\\t\\t\\t\\t\\\"on_update\\\" => (preg_match('~\\\\bon update (\\\\w+)~i', $extra, $match) ? $match[1] : \\\"\\\"), //! available since MySQL 5.1.23\\n\\t\\t\\t\\t\\\"collation\\\" => $row[\\\"COLLATION_NAME\\\"],\\n\\t\\t\\t\\t\\\"privileges\\\" => array_flip(explode(\\\",\\\", \\\"$row[PRIVILEGES],where,order\\\")),\\n\\t\\t\\t\\t\\\"comment\\\" => $row[\\\"COLUMN_COMMENT\\\"],\\n\\t\\t\\t\\t\\\"primary\\\" => ($row[\\\"COLUMN_KEY\\\"] == \\\"PRI\\\"),\\n\\t\\t\\t\\t\\\"generated\\\" => ($generated[1] == \\\"PERSISTENT\\\" ? \\\"STORED\\\" : $generated[1]),\\n\\t\\t\\t);\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Get table indexes\\n\\t* @return Index[]\\n\\t*/\\n\\tfunction indexes($table, $connection2 = null) {\\n\\t\\t$return = array();\\n\\t\\tforeach (get_rows(\\\"SHOW INDEX FROM \\\" . table($table), $connection2) as $row) {\\n\\t\\t\\t$name = $row[\\\"Key_name\\\"];\\n\\t\\t\\t$return[$name][\\\"type\\\"] = ($name == \\\"PRIMARY\\\" ? \\\"PRIMARY\\\" : ($row[\\\"Index_type\\\"] == \\\"FULLTEXT\\\" ? \\\"FULLTEXT\\\" : ($row[\\\"Non_unique\\\"] ? ($row[\\\"Index_type\\\"] == \\\"SPATIAL\\\" ? \\\"SPATIAL\\\" : \\\"INDEX\\\") : \\\"UNIQUE\\\")));\\n\\t\\t\\t$return[$name][\\\"columns\\\"][] = $row[\\\"Column_name\\\"];\\n\\t\\t\\t$return[$name][\\\"lengths\\\"][] = ($row[\\\"Index_type\\\"] == \\\"SPATIAL\\\" ? null : $row[\\\"Sub_part\\\"]);\\n\\t\\t\\t$return[$name][\\\"descs\\\"][] = null;\\n\\t\\t\\t$return[$name][\\\"algorithm\\\"] = $row[\\\"Index_type\\\"];\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Get foreign keys in table\\n\\t* @return ForeignKey[]\\n\\t*/\\n\\tfunction foreign_keys($table) {\\n\\t\\tstatic $pattern = '(?:`(?:[^`]|``)+`|\\\"(?:[^\\\"]|\\\"\\\")+\\\")';\\n\\t\\t$return = array();\\n\\t\\t$create_table = get_val(\\\"SHOW CREATE TABLE \\\" . table($table), 1);\\n\\t\\tif ($create_table) {\\n\\t\\t\\tpreg_match_all(\\n\\t\\t\\t\\t\\\"~CONSTRAINT ($pattern) FOREIGN KEY ?\\\\\\\\(((?:$pattern,? ?)+)\\\\\\\\) REFERENCES ($pattern)(?:\\\\\\\\.($pattern))? \\\\\\\\(((?:$pattern,? ?)+)\\\\\\\\)(?: ON DELETE (\\\" . driver()->onActions . \\\"))?(?: ON UPDATE (\\\" . driver()->onActions . \\\"))?~\\\",\\n\\t\\t\\t\\t$create_table,\\n\\t\\t\\t\\t$matches,\\n\\t\\t\\t\\tPREG_SET_ORDER\\n\\t\\t\\t);\\n\\t\\t\\tforeach ($matches as $match) {\\n\\t\\t\\t\\tpreg_match_all(\\\"~$pattern~\\\", $match[2], $source);\\n\\t\\t\\t\\tpreg_match_all(\\\"~$pattern~\\\", $match[5], $target);\\n\\t\\t\\t\\t$return[idf_unescape($match[1])] = array(\\n\\t\\t\\t\\t\\t\\\"db\\\" => idf_unescape($match[4] != \\\"\\\" ? $match[3] : $match[4]),\\n\\t\\t\\t\\t\\t\\\"table\\\" => idf_unescape($match[4] != \\\"\\\" ? $match[4] : $match[3]),\\n\\t\\t\\t\\t\\t\\\"source\\\" => array_map('Adminer\\\\idf_unescape', $source[0]),\\n\\t\\t\\t\\t\\t\\\"target\\\" => array_map('Adminer\\\\idf_unescape', $target[0]),\\n\\t\\t\\t\\t\\t\\\"on_delete\\\" => ($match[6] ?: \\\"RESTRICT\\\"),\\n\\t\\t\\t\\t\\t\\\"on_update\\\" => ($match[7] ?: \\\"RESTRICT\\\"),\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Get view SELECT\\n\\t* @return array{select:string}\\n\\t*/\\n\\tfunction view($name) {\\n\\t\\treturn array(\\\"select\\\" => preg_replace('~^(?:[^`]|`[^`]*`)*\\\\s+AS\\\\s+~isU', '', get_val(\\\"SHOW CREATE VIEW \\\" . table($name), 1)));\\n\\t}\\n\\n\\t/** Get sorted grouped list of collations\\n\\t* @return string[][]\\n\\t*/\\n\\tfunction collations() {\\n\\t\\t$return = array();\\n\\t\\tforeach (get_rows(\\\"SHOW COLLATION\\\") as $row) {\\n\\t\\t\\tif ($row[\\\"Default\\\"]) {\\n\\t\\t\\t\\t$return[$row[\\\"Charset\\\"]][-1] = $row[\\\"Collation\\\"];\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t$return[$row[\\\"Charset\\\"]][] = $row[\\\"Collation\\\"];\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\tksort($return);\\n\\t\\tforeach ($return as $key => $val) {\\n\\t\\t\\tsort($return[$key]);\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Find out if database is information_schema */\\n\\tfunction information_schema($db) {\\n\\t\\treturn ($db == \\\"information_schema\\\")\\n\\t\\t\\t|| (min_version(5.5) && $db == \\\"performance_schema\\\");\\n\\t}\\n\\n\\t/** Get escaped error message */\\n\\tfunction error() {\\n\\t\\treturn h(preg_replace('~^You have an error.*syntax to use~U', \\\"Syntax error\\\", connection()->error));\\n\\t}\\n\\n\\t/** Create database\\n\\t* @return Result\\n\\t*/\\n\\tfunction create_database($db, $collation) {\\n\\t\\treturn queries(\\\"CREATE DATABASE \\\" . idf_escape($db) . ($collation ? \\\" COLLATE \\\" . q($collation) : \\\"\\\"));\\n\\t}\\n\\n\\t/** Drop databases\\n\\t* @param list<string> $databases\\n\\t*/\\n\\tfunction drop_databases($databases) {\\n\\t\\t$return = apply_queries(\\\"DROP DATABASE\\\", $databases, 'Adminer\\\\idf_escape');\\n\\t\\trestart_session();\\n\\t\\tset_session(\\\"dbs\\\", null);\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Rename database from DB\\n\\t* @param string $name new name\\n\\t*/\\n\\tfunction rename_database($name, $collation) {\\n\\t\\t$return = false;\\n\\t\\tif (create_database($name, $collation)) {\\n\\t\\t\\t$tables = array();\\n\\t\\t\\t$views = array();\\n\\t\\t\\tforeach (tables_list() as $table => $type) {\\n\\t\\t\\t\\tif ($type == 'VIEW') {\\n\\t\\t\\t\\t\\t$views[] = $table;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t$tables[] = $table;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\t$return = (!$tables && !$views) || move_tables($tables, $views, $name);\\n\\t\\t\\tdrop_databases($return ? array(DB) : array());\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Generate modifier for auto increment column */\\n\\tfunction auto_increment() {\\n\\t\\t$auto_increment_index = \\\" PRIMARY KEY\\\";\\n\\t\\t// don't overwrite primary key by auto_increment\\n\\t\\tif ($_GET[\\\"create\\\"] != \\\"\\\" && $_POST[\\\"auto_increment_col\\\"]) {\\n\\t\\t\\tforeach (indexes($_GET[\\\"create\\\"]) as $index) {\\n\\t\\t\\t\\tif (in_array($_POST[\\\"fields\\\"][$_POST[\\\"auto_increment_col\\\"]][\\\"orig\\\"], $index[\\\"columns\\\"], true)) {\\n\\t\\t\\t\\t\\t$auto_increment_index = \\\"\\\";\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif ($index[\\\"type\\\"] == \\\"PRIMARY\\\") {\\n\\t\\t\\t\\t\\t$auto_increment_index = \\\" UNIQUE\\\";\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn \\\" AUTO_INCREMENT$auto_increment_index\\\";\\n\\t}\\n\\n\\t/** Run commands to create or alter table\\n\\t* @param string $table \\\"\\\" to create\\n\\t* @param string $name new name\\n\\t* @param list<array{string, list<string>, string}> $fields of [$orig, $process_field, $after]\\n\\t* @param string[] $foreign\\n\\t* @param numeric-string|'' $auto_increment\\n\\t* @param ?Partitions $partitioning null means remove partitioning\\n\\t* @return Result|bool\\n\\t*/\\n\\tfunction alter_table($table, $name, $fields, $foreign, $comment, $engine, $collation, $auto_increment, $partitioning) {\\n\\t\\t$alter = array();\\n\\t\\tforeach ($fields as $field) {\\n\\t\\t\\tif ($field[1]) {\\n\\t\\t\\t\\t$default = $field[1][3];\\n\\t\\t\\t\\tif (preg_match('~ GENERATED~', $default)) {\\n\\t\\t\\t\\t\\t// swap default and null\\n\\t\\t\\t\\t\\t$field[1][3] = (connection()->flavor == 'maria' ? \\\"\\\" : $field[1][2]); // MariaDB doesn't support NULL on virtual columns\\n\\t\\t\\t\\t\\t$field[1][2] = $default;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t$alter[] = ($table != \\\"\\\" ? ($field[0] != \\\"\\\" ? \\\"CHANGE \\\" . idf_escape($field[0]) : \\\"ADD\\\") : \\\" \\\") . \\\" \\\" . implode($field[1]) . ($table != \\\"\\\" ? $field[2] : \\\"\\\");\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t$alter[] = \\\"DROP \\\" . idf_escape($field[0]);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t$alter = array_merge($alter, $foreign);\\n\\t\\t$status = ($comment !== null ? \\\" COMMENT=\\\" . q($comment) : \\\"\\\")\\n\\t\\t\\t. ($engine ? \\\" ENGINE=\\\" . q($engine) : \\\"\\\")\\n\\t\\t\\t. ($collation ? \\\" COLLATE \\\" . q($collation) : \\\"\\\")\\n\\t\\t\\t. ($auto_increment != \\\"\\\" ? \\\" AUTO_INCREMENT=$auto_increment\\\" : \\\"\\\")\\n\\t\\t;\\n\\n\\t\\tif ($partitioning) {\\n\\t\\t\\t$partitions = array();\\n\\t\\t\\tif ($partitioning[\\\"partition_by\\\"] == 'RANGE' || $partitioning[\\\"partition_by\\\"] == 'LIST') {\\n\\t\\t\\t\\tforeach ($partitioning[\\\"partition_names\\\"] as $key => $val) {\\n\\t\\t\\t\\t\\t$value = $partitioning[\\\"partition_values\\\"][$key];\\n\\t\\t\\t\\t\\t$partitions[] = \\\"\\\\n  PARTITION \\\" . idf_escape($val) . \\\" VALUES \\\" . ($partitioning[\\\"partition_by\\\"] == 'RANGE' ? \\\"LESS THAN\\\" : \\\"IN\\\") . ($value != \\\"\\\" ? \\\" ($value)\\\" : \\\" MAXVALUE\\\"); //! SQL injection\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\t// $partitioning[\\\"partition\\\"] can be expression, not only column\\n\\t\\t\\t$status .= \\\"\\\\nPARTITION BY $partitioning[partition_by]($partitioning[partition])\\\";\\n\\t\\t\\tif ($partitions) {\\n\\t\\t\\t\\t$status .= \\\" (\\\" . implode(\\\",\\\", $partitions) . \\\"\\\\n)\\\";\\n\\t\\t\\t} elseif ($partitioning[\\\"partitions\\\"]) {\\n\\t\\t\\t\\t$status .= \\\" PARTITIONS \\\" . (+$partitioning[\\\"partitions\\\"]);\\n\\t\\t\\t}\\n\\t\\t} elseif ($partitioning === null) {\\n\\t\\t\\t$status .= \\\"\\\\nREMOVE PARTITIONING\\\";\\n\\t\\t}\\n\\n\\t\\tif ($table == \\\"\\\") {\\n\\t\\t\\treturn queries(\\\"CREATE TABLE \\\" . table($name) . \\\" (\\\\n\\\" . implode(\\\",\\\\n\\\", $alter) . \\\"\\\\n)$status\\\");\\n\\t\\t}\\n\\t\\tif ($table != $name) {\\n\\t\\t\\t$alter[] = \\\"RENAME TO \\\" . table($name);\\n\\t\\t}\\n\\t\\tif ($status) {\\n\\t\\t\\t$alter[] = ltrim($status);\\n\\t\\t}\\n\\t\\treturn ($alter ? queries(\\\"ALTER TABLE \\\" . table($table) . \\\"\\\\n\\\" . implode(\\\",\\\\n\\\", $alter)) : true);\\n\\t}\\n\\n\\t/** Run commands to alter indexes\\n\\t* @param string $table escaped table name\\n\\t* @param list<array{string, string, 'DROP'|list<string>, 3?: string, 4?: string}> $alter of [\\\"index type\\\", \\\"name\\\", [\\\"column definition\\\", ...], \\\"algorithm\\\", \\\"condition\\\"] or [\\\"index type\\\", \\\"name\\\", \\\"DROP\\\"]\\n\\t* @return Result|bool\\n\\t*/\\n\\tfunction alter_indexes($table, $alter) {\\n\\t\\t$changes = array();\\n\\t\\tforeach ($alter as $val) {\\n\\t\\t\\t$changes[] = ($val[2] == \\\"DROP\\\"\\n\\t\\t\\t\\t? \\\"\\\\nDROP INDEX \\\" . idf_escape($val[1])\\n\\t\\t\\t\\t: \\\"\\\\nADD $val[0] \\\" . ($val[0] == \\\"PRIMARY\\\" ? \\\"KEY \\\" : \\\"\\\") . ($val[1] != \\\"\\\" ? idf_escape($val[1]) . \\\" \\\" : \\\"\\\") . \\\"(\\\" . implode(\\\", \\\", $val[2]) . \\\")\\\"\\n\\t\\t\\t);\\n\\t\\t}\\n\\t\\treturn queries(\\\"ALTER TABLE \\\" . table($table) . implode(\\\",\\\", $changes));\\n\\t}\\n\\n\\t/** Run commands to truncate tables\\n\\t* @param list<string> $tables\\n\\t*/\\n\\tfunction truncate_tables($tables) {\\n\\t\\treturn apply_queries(\\\"TRUNCATE TABLE\\\", $tables);\\n\\t}\\n\\n\\t/** Drop views\\n\\t* @param list<string> $views\\n\\t* @return Result|bool\\n\\t*/\\n\\tfunction drop_views($views) {\\n\\t\\treturn queries(\\\"DROP VIEW \\\" . implode(\\\", \\\", array_map('Adminer\\\\table', $views)));\\n\\t}\\n\\n\\t/** Drop tables\\n\\t* @param list<string> $tables\\n\\t* @return Result|bool\\n\\t*/\\n\\tfunction drop_tables($tables) {\\n\\t\\treturn queries(\\\"DROP TABLE \\\" . implode(\\\", \\\", array_map('Adminer\\\\table', $tables)));\\n\\t}\\n\\n\\t/** Move tables to other schema\\n\\t* @param list<string> $tables\\n\\t* @param list<string> $views\\n\\t*/\\n\\tfunction move_tables($tables, $views, $target) {\\n\\t\\t$rename = array();\\n\\t\\tforeach ($tables as $table) {\\n\\t\\t\\t$rename[] = table($table) . \\\" TO \\\" . idf_escape($target) . \\\".\\\" . table($table);\\n\\t\\t}\\n\\t\\tif (!$rename || queries(\\\"RENAME TABLE \\\" . implode(\\\", \\\", $rename))) {\\n\\t\\t\\t$definitions = array();\\n\\t\\t\\tforeach ($views as $table) {\\n\\t\\t\\t\\t$definitions[table($table)] = view($table);\\n\\t\\t\\t}\\n\\t\\t\\tconnection()->select_db($target);\\n\\t\\t\\t$db = idf_escape(DB);\\n\\t\\t\\tforeach ($definitions as $name => $view) {\\n\\t\\t\\t\\tif (!queries(\\\"CREATE VIEW $name AS \\\" . str_replace(\\\" $db.\\\", \\\" \\\", $view[\\\"select\\\"])) || !queries(\\\"DROP VIEW $db.$name\\\")) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\t\\t//! move triggers\\n\\t\\treturn false;\\n\\t}\\n\\n\\t/** Copy tables to other schema\\n\\t* @param list<string> $tables\\n\\t* @param list<string> $views\\n\\t*/\\n\\tfunction copy_tables($tables, $views, $target) {\\n\\t\\tqueries(\\\"SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO'\\\");\\n\\t\\tforeach ($tables as $table) {\\n\\t\\t\\t$name = ($target == DB ? table(\\\"copy_$table\\\") : idf_escape($target) . \\\".\\\" . table($table));\\n\\t\\t\\tif (\\n\\t\\t\\t\\t($_POST[\\\"overwrite\\\"] && !queries(\\\"\\\\nDROP TABLE IF EXISTS $name\\\"))\\n\\t\\t\\t\\t|| !queries(\\\"CREATE TABLE $name LIKE \\\" . table($table))\\n\\t\\t\\t\\t|| !queries(\\\"INSERT INTO $name SELECT * FROM \\\" . table($table))\\n\\t\\t\\t) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\t\\t\\tforeach (get_rows(\\\"SHOW TRIGGERS LIKE \\\" . q(addcslashes($table, \\\"%_\\\\\\\\\\\"))) as $row) {\\n\\t\\t\\t\\t$trigger = $row[\\\"Trigger\\\"];\\n\\t\\t\\t\\tif (!queries(\\\"CREATE TRIGGER \\\" . ($target == DB ? idf_escape(\\\"copy_$trigger\\\") : idf_escape($target) . \\\".\\\" . idf_escape($trigger)) . \\\" $row[Timing] $row[Event] ON $name FOR EACH ROW\\\\n$row[Statement];\\\")) {\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\tforeach ($views as $table) {\\n\\t\\t\\t$name = ($target == DB ? table(\\\"copy_$table\\\") : idf_escape($target) . \\\".\\\" . table($table));\\n\\t\\t\\t$view = view($table);\\n\\t\\t\\tif (\\n\\t\\t\\t\\t($_POST[\\\"overwrite\\\"] && !queries(\\\"DROP VIEW IF EXISTS $name\\\"))\\n\\t\\t\\t\\t|| !queries(\\\"CREATE VIEW $name AS $view[select]\\\") //! USE to avoid db.table\\n\\t\\t\\t) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn true;\\n\\t}\\n\\n\\t/** Get information about trigger\\n\\t* @param string $name trigger name\\n\\t* @return Trigger\\n\\t*/\\n\\tfunction trigger($name, $table) {\\n\\t\\tif ($name == \\\"\\\") {\\n\\t\\t\\treturn array();\\n\\t\\t}\\n\\t\\t$rows = get_rows(\\\"SHOW TRIGGERS WHERE `Trigger` = \\\" . q($name));\\n\\t\\treturn reset($rows);\\n\\t}\\n\\n\\t/** Get defined triggers\\n\\t* @return array{string, string}[]\\n\\t*/\\n\\tfunction triggers($table) {\\n\\t\\t$return = array();\\n\\t\\tforeach (get_rows(\\\"SHOW TRIGGERS LIKE \\\" . q(addcslashes($table, \\\"%_\\\\\\\\\\\"))) as $row) {\\n\\t\\t\\t$return[$row[\\\"Trigger\\\"]] = array($row[\\\"Timing\\\"], $row[\\\"Event\\\"]);\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Get trigger options\\n\\t* @return array{Timing: list<string>, Event: list<string>, Type: list<string>}\\n\\t*/\\n\\tfunction trigger_options() {\\n\\t\\treturn array(\\n\\t\\t\\t\\\"Timing\\\" => array(\\\"BEFORE\\\", \\\"AFTER\\\"),\\n\\t\\t\\t\\\"Event\\\" => array(\\\"INSERT\\\", \\\"UPDATE\\\", \\\"DELETE\\\"),\\n\\t\\t\\t\\\"Type\\\" => array(\\\"FOR EACH ROW\\\"),\\n\\t\\t);\\n\\t}\\n\\n\\t/** Get information about stored routine\\n\\t* @param 'FUNCTION'|'PROCEDURE' $type\\n\\t* @return Routine\\n\\t*/\\n\\tfunction routine($name, $type) {\\n\\t\\t$aliases = array(\\\"bool\\\", \\\"boolean\\\", \\\"integer\\\", \\\"double precision\\\", \\\"real\\\", \\\"dec\\\", \\\"numeric\\\", \\\"fixed\\\", \\\"national char\\\", \\\"national varchar\\\");\\n\\t\\t$space = \\\"(?:\\\\\\\\s|/\\\\\\\\*[\\\\s\\\\S]*?\\\\\\\\*/|(?:#|-- )[^\\\\n]*\\\\n?|--\\\\r?\\\\n)\\\";\\n\\t\\t$enum = driver()->enumLength;\\n\\t\\t$type_pattern = \\\"((\\\" . implode(\\\"|\\\", array_merge(array_keys(driver()->types()), $aliases)) . \\\")\\\\\\\\b(?:\\\\\\\\s*\\\\\\\\(((?:[^'\\\\\\\")]|$enum)++)\\\\\\\\))?\\\"\\n\\t\\t\\t. \\\"\\\\\\\\s*(zerofill\\\\\\\\s*)?(unsigned(?:\\\\\\\\s+zerofill)?)?)(?:\\\\\\\\s*(?:CHARSET|CHARACTER\\\\\\\\s+SET)\\\\\\\\s*['\\\\\\\"]?([^'\\\\\\\"\\\\\\\\s,]+)['\\\\\\\"]?)?(?:\\\\\\\\s*COLLATE\\\\\\\\s*['\\\\\\\"]?([^'\\\\\\\"\\\\\\\\s,]+)['\\\\\\\"]?)?\\\"; //! store COLLATE\\n\\t\\t$pattern = \\\"$space*(\\\" . ($type == \\\"FUNCTION\\\" ? \\\"\\\" : driver()->inout) . \\\")?\\\\\\\\s*(?:`((?:[^`]|``)*)`\\\\\\\\s*|\\\\\\\\b(\\\\\\\\S+)\\\\\\\\s+)$type_pattern\\\";\\n\\t\\t$create = get_val(\\\"SHOW CREATE $type \\\" . idf_escape($name), 2);\\n\\t\\tpreg_match(\\\"~\\\\\\\\(((?:$pattern\\\\\\\\s*,?)*)\\\\\\\\)\\\\\\\\s*\\\" . ($type == \\\"FUNCTION\\\" ? \\\"RETURNS\\\\\\\\s+$type_pattern\\\\\\\\s+\\\" : \\\"\\\") . \\\"(.*)~is\\\", $create, $match);\\n\\t\\t$fields = array();\\n\\t\\tpreg_match_all(\\\"~$pattern\\\\\\\\s*,?~is\\\", $match[1], $matches, PREG_SET_ORDER);\\n\\t\\tforeach ($matches as $param) {\\n\\t\\t\\t$fields[] = array(\\n\\t\\t\\t\\t\\\"field\\\" => str_replace(\\\"``\\\", \\\"`\\\", $param[2]) . $param[3],\\n\\t\\t\\t\\t\\\"type\\\" => strtolower($param[5]),\\n\\t\\t\\t\\t\\\"length\\\" => preg_replace_callback(\\\"~$enum~s\\\", 'Adminer\\\\normalize_enum', $param[6]),\\n\\t\\t\\t\\t\\\"unsigned\\\" => strtolower(preg_replace('~\\\\s+~', ' ', trim(\\\"$param[8] $param[7]\\\"))),\\n\\t\\t\\t\\t\\\"null\\\" => true,\\n\\t\\t\\t\\t\\\"full_type\\\" => $param[4],\\n\\t\\t\\t\\t\\\"inout\\\" => strtoupper($param[1]),\\n\\t\\t\\t\\t\\\"collation\\\" => strtolower($param[9]),\\n\\t\\t\\t);\\n\\t\\t}\\n\\t\\treturn array(\\n\\t\\t\\t\\\"fields\\\" => $fields,\\n\\t\\t\\t\\\"comment\\\" => get_val(\\\"SELECT ROUTINE_COMMENT FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = DATABASE() AND ROUTINE_NAME = \\\" . q($name)),\\n\\t\\t) + ($type != \\\"FUNCTION\\\" ? array(\\\"definition\\\" => $match[11]) : array(\\n\\t\\t\\t\\\"returns\\\" => array(\\\"type\\\" => $match[12], \\\"length\\\" => $match[13], \\\"unsigned\\\" => $match[15], \\\"collation\\\" => $match[16]),\\n\\t\\t\\t\\\"definition\\\" => $match[17],\\n\\t\\t\\t\\\"language\\\" => \\\"SQL\\\", // available in information_schema.ROUTINES.BODY_STYLE\\n\\t\\t));\\n\\t}\\n\\n\\t/** Get list of routines\\n\\t* @return list<string[]> [\\\"SPECIFIC_NAME\\\" => , \\\"ROUTINE_NAME\\\" => , \\\"ROUTINE_TYPE\\\" => , \\\"DTD_IDENTIFIER\\\" => ]\\n\\t*/\\n\\tfunction routines() {\\n\\t\\treturn get_rows(\\\"SELECT SPECIFIC_NAME, ROUTINE_NAME, ROUTINE_TYPE, DTD_IDENTIFIER FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = DATABASE()\\\");\\n\\t}\\n\\n\\t/** Get list of available routine languages\\n\\t* @return list<string>\\n\\t*/\\n\\tfunction routine_languages() {\\n\\t\\treturn array(); // \\\"SQL\\\" not required\\n\\t}\\n\\n\\t/** Get routine signature\\n\\t* @param Routine $row\\n\\t*/\\n\\tfunction routine_id($name, $row) {\\n\\t\\treturn idf_escape($name);\\n\\t}\\n\\n\\t/** Get last auto increment ID\\n\\t* @param Result|bool $result\\n\\t*/\\n\\tfunction last_id($result) {\\n\\t\\treturn get_val(\\\"SELECT LAST_INSERT_ID()\\\"); // mysql_insert_id() truncates bigint\\n\\t}\\n\\n\\t/** Explain select\\n\\t* @return Result\\n\\t*/\\n\\tfunction explain($connection, $query) {\\n\\t\\treturn $connection->query(\\\"EXPLAIN \\\" . (min_version(5.1) && !min_version(5.7) ? \\\"PARTITIONS \\\" : \\\"\\\") . $query);\\n\\t}\\n\\n\\t/** Get approximate number of rows\\n\\t* @param TableStatus $table_status\\n\\t* @param list<string> $where\\n\\t* @return numeric-string|null null if approximate number can't be retrieved\\n\\t*/\\n\\tfunction found_rows($table_status, $where) {\\n\\t\\treturn ($where || $table_status[\\\"Engine\\\"] != \\\"InnoDB\\\" ? null : $table_status[\\\"Rows\\\"]);\\n\\t}\\n\\n\\t/** Get SQL command to create table */\\n\\tfunction create_sql($table, $auto_increment, $style) {\\n\\t\\t$return = get_val(\\\"SHOW CREATE TABLE \\\" . table($table), 1);\\n\\t\\tif (!$auto_increment) {\\n\\t\\t\\t$return = preg_replace('~ AUTO_INCREMENT=\\\\d+~', '', $return); //! skip comments\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Get SQL command to truncate table */\\n\\tfunction truncate_sql($table) {\\n\\t\\treturn \\\"TRUNCATE \\\" . table($table);\\n\\t}\\n\\n\\t/** Get SQL command to change database */\\n\\tfunction use_sql($database, $style = \\\"\\\") {\\n\\t\\t$name = idf_escape($database);\\n\\t\\t$return = \\\"\\\";\\n\\t\\tif (preg_match('~CREATE~', $style) && ($create = get_val(\\\"SHOW CREATE DATABASE $name\\\", 1))) {\\n\\t\\t\\tset_utf8mb4($create);\\n\\t\\t\\tif ($style == \\\"DROP+CREATE\\\") {\\n\\t\\t\\t\\t$return = \\\"DROP DATABASE IF EXISTS $name;\\\\n\\\";\\n\\t\\t\\t}\\n\\t\\t\\t$return .= \\\"$create;\\\\n\\\";\\n\\t\\t}\\n\\t\\treturn $return . \\\"USE $name\\\";\\n\\t}\\n\\n\\t/** Get SQL commands to create triggers */\\n\\tfunction trigger_sql($table) {\\n\\t\\t$return = \\\"\\\";\\n\\t\\tforeach (get_rows(\\\"SHOW TRIGGERS LIKE \\\" . q(addcslashes($table, \\\"%_\\\\\\\\\\\")), null, \\\"-- \\\") as $row) {\\n\\t\\t\\t$return .= \\\"\\\\nCREATE TRIGGER \\\" . idf_escape($row[\\\"Trigger\\\"]) . \\\" $row[Timing] $row[Event] ON \\\" . table($row[\\\"Table\\\"]) . \\\" FOR EACH ROW\\\\n$row[Statement];;\\\\n\\\";\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Get server variables\\n\\t* @return list<string[]> [[$name, $value]]\\n\\t*/\\n\\tfunction show_variables() {\\n\\t\\treturn get_rows(\\\"SHOW VARIABLES\\\");\\n\\t}\\n\\n\\t/** Get status variables\\n\\t* @return list<string[]> [[$name, $value]]\\n\\t*/\\n\\tfunction show_status() {\\n\\t\\treturn get_rows(\\\"SHOW STATUS\\\");\\n\\t}\\n\\n\\t/** Get process list\\n\\t* @return list<string[]> [$row]\\n\\t*/\\n\\tfunction process_list() {\\n\\t\\treturn get_rows(\\\"SHOW FULL PROCESSLIST\\\");\\n\\t}\\n\\n\\t/** Convert field in select and edit\\n\\t* @param Field $field\\n\\t* @return string|void\\n\\t*/\\n\\tfunction convert_field($field) {\\n\\t\\tif (preg_match(\\\"~binary~\\\", $field[\\\"type\\\"])) {\\n\\t\\t\\treturn \\\"HEX(\\\" . idf_escape($field[\\\"field\\\"]) . \\\")\\\";\\n\\t\\t}\\n\\t\\tif ($field[\\\"type\\\"] == \\\"bit\\\") {\\n\\t\\t\\treturn \\\"BIN(\\\" . idf_escape($field[\\\"field\\\"]) . \\\" + 0)\\\"; // + 0 is required outside MySQLnd\\n\\t\\t}\\n\\t\\tif (preg_match(\\\"~geometry|point|linestring|polygon~\\\", $field[\\\"type\\\"])) {\\n\\t\\t\\treturn (min_version(8) ? \\\"ST_\\\" : \\\"\\\") . \\\"AsWKT(\\\" . idf_escape($field[\\\"field\\\"]) . \\\")\\\";\\n\\t\\t}\\n\\t}\\n\\n\\t/** Convert value in edit after applying functions back\\n\\t* @param Field $field\\n\\t* @param string $return SQL expression\\n\\t*/\\n\\tfunction unconvert_field($field, $return) {\\n\\t\\tif (preg_match(\\\"~binary~\\\", $field[\\\"type\\\"])) {\\n\\t\\t\\t$return = \\\"UNHEX($return)\\\";\\n\\t\\t}\\n\\t\\tif ($field[\\\"type\\\"] == \\\"bit\\\") {\\n\\t\\t\\t$return = \\\"CONVERT(b$return, UNSIGNED)\\\";\\n\\t\\t}\\n\\t\\tif (preg_match(\\\"~geometry|point|linestring|polygon~\\\", $field[\\\"type\\\"])) {\\n\\t\\t\\t$prefix = (min_version(8) ? \\\"ST_\\\" : \\\"\\\");\\n\\t\\t\\t$return = $prefix . \\\"GeomFromText($return, $prefix\\\" . \\\"SRID($field[field]))\\\";\\n\\t\\t}\\n\\t\\treturn $return;\\n\\t}\\n\\n\\t/** Check whether a feature is supported\\n\\t* @param literal-string $feature check|comment|columns|copy|database|descidx|drop_col|dump|event|indexes|kill|materializedview\\n\\t* |move_col|privileges|procedure|processlist|routine|scheme|sequence|sql|status|table|trigger|type|variables|view|view_trigger\\n\\t*/\\n\\tfunction support($feature) {\\n\\t\\treturn preg_match(\\n\\t\\t\\t'~^(comment|columns|copy|database|drop_col|dump|indexes|kill|privileges|move_col|procedure|processlist|routine|sql|status|table|trigger|variables|view'\\n\\t\\t\\t\\t. (min_version(5.1) ? '|event' : '')\\n\\t\\t\\t\\t. (min_version(8) ? '|descidx' : '')\\n\\t\\t\\t\\t. (min_version('8.0.16', '10.2.1') ? '|check' : '')\\n\\t\\t\\t\\t. ')$~',\\n\\t\\t\\t$feature\\n\\t\\t);\\n\\t}\\n\\n\\t/** Kill a process\\n\\t* @param numeric-string $id\\n\\t* @return Result|bool\\n\\t*/\\n\\tfunction kill_process($id) {\\n\\t\\treturn queries(\\\"KILL \\\" . number($id));\\n\\t}\\n\\n\\t/** Return query to get connection ID */\\n\\tfunction connection_id() {\\n\\t\\treturn \\\"SELECT CONNECTION_ID()\\\";\\n\\t}\\n\\n\\t/** Get maximum number of connections\\n\\t* @return numeric-string\\n\\t*/\\n\\tfunction max_connections() {\\n\\t\\treturn get_val(\\\"SELECT @@max_connections\\\");\\n\\t}\\n\\n\\t// Not used is MySQL but checked in compile.php:\\n\\n\\t/** Get user defined types\\n\\t* @return string[] [$id => $name]\\n\\t*/\\n\\tfunction types() {\\n\\t\\treturn array();\\n\\t}\\n\\n\\t/** Get values of user defined type */\\n\\tfunction type_values($id) {\\n\\t\\treturn \\\"\\\";\\n\\t}\\n\\n\\t/** Get existing schemas\\n\\t* @return list<string>\\n\\t*/\\n\\tfunction schemas() {\\n\\t\\treturn array();\\n\\t}\\n\\n\\t/** Get current schema */\\n\\tfunction get_schema() {\\n\\t\\treturn \\\"\\\";\\n\\t}\\n\\n\\t/** Set current schema\\n\\t*/\\n\\tfunction set_schema($schema, $connection2 = null) {\\n\\t\\treturn true;\\n\\t}\\n}\\n\""],"names":["adminerMysqlOnSqliteDriver"],"mappings":"AAAA,MAAAA,EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;"}